<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>OpenCode Download</title>

    <meta name="description" content="Source code generated using layoutit.com">
    <meta name="author" content="LayoutIt!">
	<script type="application/javascript" src="js/jquery-2.2.1.js"></script>
	<script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
	<script type="application/javascript">

    $(document).ready(function () {
	  var formCadastro = $('#formCadastro');
	  var formRecuperar = $('#formRecuperar');
	  var formEditar = $('#formEditar');
	  var formDeletar = $('#formDeletar');
	  var bolLing = false;
	  var bolTit = false;
	  var bolRecTit = false;
	  var bolEdiTitEdi = false;
	  var bolEdiLing = false;
	  var bolEdiTit = false;
	  var bolDelTit = false;
	  var listaBooks = [];
	  
	  //AÇÃO DO FORMULARIO DE CADASTRO
	  formCadastro.submit(function (evento) {
        var linguagem = $('#txtLinguagem').val();
		var titulo = $('#txtTitulo').val();
		function Book (){
			this.linguagem = '',
			this.stitulo = ''
		};
		
		if(linguagem === null || linguagem === ''){
			$('#divLinguagem').addClass('has-error');
			$('#msgLinguagem').text('ERRO: insira o valor corretamente');
			bolLing = false;
		}else{
			$('#divLinguagem').removeClass('has-error');
			$('#msgLinguagem').empty();
			bolLing = true;
			
		}
		
		if(titulo === null || titulo === ''){
			$('#divTitulo').addClass('has-error');
			$('#msgTitulo').text('ERRO: insira o valor corretamente');
			bolTit = false;
		}else{
			$('#divTitulo').removeClass('has-error');
			$('#msgTitulo').empty();
			bolTit = true;
		}
		
		if(bolLing && bolTit){
			var newBook = new Book();
			newBook.linguagem = linguagem;
			newBook.titulo = titulo;
			listaBooks.push(newBook);
			console.log('***gravando livro***');
			console.log(newBook.linguagem);
			console.log(newBook.titulo);
			document.getElementById("txtLinguagem").value = "";
			document.getElementById("txtTitulo").value = "";
			return listaBooks;
		}
      });
	  //FIM DA AÇÃO DO FORM DE CADASTRO
	  
	  //AÇÃO DO FORMULARIO DE RECUPERACAO
	  formRecuperar.submit(function (evento) {
        var recTitulo = $('#txtRecTitulo').val();
		var achou = false;
		
		if(recTitulo === null || recTitulo === ''){
			$('#divRecLinguagem').addClass('has-error');
			bolRecTit = false;
		}else{
			$('#divRecLinguagem').removeClass('has-error');
			bolRecTit = true;
		}
		
		if(bolRecTit){
			for(var i=0; i< listaBooks.length; i++){
				if(recTitulo == listaBooks[i].titulo){
					console.log("estou na recuperacao");
					console.log(listaBooks[i].linguagem);
					console.log(listaBooks[i].titulo);
					mostrarBook(listaBooks[i]);
					achou = true;
				}
			}
		
			if(achou){
				alert('Recuperado com sucesso!');
				document.getElementById("txtRecTitulo").value = "";
			}else{
				alert('Objeto não encontrado! Verifique o nome do Titulo');
				document.getElementById("txtRecTitulo").value = "";
			}
		}
		
		function mostrarBook(book) {
        var linha = 'Linguagem: ';
        linha += book.linguagem;
        linha += ', Titulo: ';
        linha += book.titulo;
        linha += '<button onclick="deletar('+book.titulo+')" class="btn btn-danger">';
        linha += '<i class="glyphicon glyphicon-trash"></i></<button>';
		linha += '</br>';
		
        $('#msgConsulta').append(linha);
		
		}
		
		function deletar(id){
		$('#msgConsulta').empty();
			for(var i=0; i< listaBooks.length; i++){
				if(id == listaBooks[i].titulo){
					if(i == 0){
						listaBooks.shift()
						console.log('DELETEI PRIMEIRO');
					}else{
						listaBooks.splice(i,1);
						console.log('DELETEI');
					}				
				}
			}
		}
		
      });
	  //FIM DA AÇÃO DE RECUPERAÇÃO
	  
	  //AÇÃO DO FORMULARIO DE EDITAR
	  formEditar.submit(function (evento) {
        var ediTituloedi = $('#txtEdiTituloEdi').val();
		var ediLinguagem = $('#txtEdiLinguagem').val();
		var ediTitulo = $('#txtEdiTitulo').val();
		var achou = false;
		
		if(ediTituloedi === null || ediTituloedi === ''){
			$('#divEdiTituloEdi').addClass('has-error');
			bolEdiTitEdi = false;
		}else{
			$('#divEdiTituloEdi').removeClass('has-error');
			bolEdiTitEdi = true;
		}
		
		if(ediLinguagem === null || ediLinguagem === ''){
			$('#divEdiLinguagem').addClass('has-error');
			bolEdiLing = false;
		}else{
			$('#divEdiLinguagem').removeClass('has-error');
			bolEdiLing = true;
		}
		
		if(ediTitulo === null || ediTitulo 	 === ''){
			$('#divEdiTitulo').addClass('has-error');
			bolEdiTit = false;
		}else{
			$('#divEdiTitulo').removeClass('has-error');
			bolEdiTit = true;
		}
		
		if(bolEdiTitEdi && bolEdiLing && bolEdiTit){
			for(var i=0; i< listaBooks.length; i++){
				if(ediTituloedi == listaBooks[i].titulo){
					listaBooks[i].linguagem = ediLinguagem;
					listaBooks[i].titulo = ediTitulo;
					achou=true;
				}
			}
		
			if(achou){
				alert('Editado com sucesso!');
				document.getElementById("txtEdiTituloEdi").value = "";
				document.getElementById("txtEdiLinguagem").value = "";
				document.getElementById("txtEdiTitulo").value = "";
			}else{
				alert('Objeto não encontrado! Verifique o nome do Titulo');
				document.getElementById("txtEdiTituloEdi").value = "";
				document.getElementById("txtEdiLinguagem").value = "";
				document.getElementById("txtEdiTitulo").value = "";
			}
		}
		
      });
	  //FIM DA AÇÃO DE EDIÇÃO
	  
	  //AÇÃO DO FORMULARIO DELETAR
	  formDeletar.submit(function (evento) {
        var delTitulo = $('#txtDelTitulo').val();
		var achou = false;
		if(delTitulo === null || delTitulo === ''){
			$('#divDelTitulo').addClass('has-error');
			bolDelTit = false;
		}else{
			$('#divDelTitulo').removeClass('has-error');
			bolDelTit = true;
		}
		
		if(bolDelTit){
			for(var i=0; i< listaBooks.length; i++){
				if(delTitulo == listaBooks[i].titulo){
					if(i == 0){
						listaBooks.shift()
						console.log('DELETEI PRIMEIRO');
						achou = true;
					}else{
						listaBooks.splice(i,1);
						console.log('DELETEI');
						achou = true;
					}				
				}
			}
			if(achou){
				alert('Deletado com sucesso!');
				document.getElementById("txtDelTitulo").value = "";
			}else{
				alert('Objeto não encontrado! Verifique o nome do Titulo');
				document.getElementById("txtDelTitulo").value = "";
			}
		}
		
      });
	  //FIM DA AÇÃO DE DELETAR
	  
    });
  </script>

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

  </head>
  <body>
    <div class="container-fluid">
	<div class="row">
		<div class="span12">
			<nav class="navbar navbar-default navbar-inverse navbar-static-top" role="navigation">
				<div class="navbar-header"> 
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
						 <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
					</button> <a class="navbar-brand" href="#">Home</a>
				</div>
				
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<form class="navbar-form navbar-right" role="search">
						<button type="submit" class="btn btn-default">
							Pesquisar
						</button>
						<div class="form-group">
							<input type="text" class="form-control" />&nbsp;&nbsp;
						</div>
					</form>
				</div>	
			</nav>
			<h1 align="center">
				 Open Code! <small>Um café e conhecimento não se nega a ninguém</small> <span class="glyphicon glyphicon-education" />	
			</h1>	
		</div>
		<hr width="97%" align="center" noshade style="border:solid 3px black; border-radius: 10px;">
	</div>
	<div class="row">
		<div class="col-md-8">
		<br>
			<div class="tabbable" id="tabs-19829">
				<ul class="nav nav-tabs">
					<li class="active">
						<a href="#panel-235775" data-toggle="tab">Cadastro</a>
					</li>
					<li>
						<a href="#panel-581862" data-toggle="tab">Recuperar</a>
					</li>
					<li>
						<a href="#panel-1" data-toggle="tab">Editar</a>
					</li>
					<li>
						<a href="#panel-2" data-toggle="tab">Deletar</a>
					</li>
				</ul>
				<div class="tab-content">
					<div class="tab-pane active" id="panel-235775">
						<br><br>
						<form id="formCadastro" action="#" class="form-horizontal" role="form">
							<div class="form-group" id="linguagem-group">
								<div class="col-sm-5">
									<label>
										Linguagem:
									</label>
									<div id="divLinguagem">
										<span id="msgLinguagem" class="help-block"></span>
										<input type="text" class="form-control col-lg-4" id="txtLinguagem"> 
									</div>
								</div>
							</div>
							<div class="form-group" id="titulo-group">
								<div class="col-sm-5">
									<label>
										Título do documento:
									</label>
									<div id="divTitulo">
										<span id="msgTitulo" class="help-block"></span>
										<input type="text" class="form-control col-lg-4 has-error" id="txtTitulo" />
									</div>
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-5">
									<button type="submit" class="btn btn-primary">
										Enviar
									</button>
								</div>
							</div>
						</form>
					</div>
					<div class="tab-pane" id="panel-581862">
						<br><br>
						<form id="formRecuperar" action="#" class="form-horizontal" role="form">
							<div class="form-group" id="linguagem-group">
								<div class="col-sm-5">
									<label>
										Titulo do documento:
									</label>
									<div id="divRecLinguagem">
										<input type="text" class="form-control col-lg-4" id="txtRecTitulo"> 
									</div>
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-5">
									<button type="submit" class="btn btn-primary">
										Enviar
									</button>
								</div>
							</div>
						</form>
						<div id="consulta">
							<span id="msgConsulta"></span>
						</div>
					</div>
					<div class="tab-pane" id="panel-1">
						<br><br>
						<form id="formEditar" action="#" class="form-horizontal" role="form">
							<div class="form-group" id="linguagem-group">
								<div class="col-sm-5">
									<label>
										Titulo do documento que deseja editar:
									</label>
									<div id="divEdiTituloEdi">
										<input type="text" class="form-control col-lg-4" id="txtEdiTituloEdi"> 
									</div>
								</div>
							</div>
							<div class="form-group" id="linguagem-group">
								<div class="col-sm-5">
									<label>
										Linguagem:
									</label>
									<div id="divEdiLinguagem">
										<input type="text" class="form-control col-lg-4" id="txtEdiLinguagem"> 
									</div>
								</div>
							</div>
							<div class="form-group" id="linguagem-group">
								<div class="col-sm-5">
									<label>
										Titulo do documento:
									</label>
									<div id="divEdiTitulo">
										<input type="text" class="form-control col-lg-4" id="txtEdiTitulo"> 
									</div>
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-5">
									<button type="submit" class="btn btn-primary">
										Enviar
									</button>
								</div>
							</div>
						</form>
					</div>
					<div class="tab-pane" id="panel-2">
						<br><br>
						<form id="formDeletar" action="#" class="form-horizontal" role="form">
							<div class="form-group" id="linguagem-group">
								<div class="col-sm-5">
									<label>
										Titulo do documento que deseja Deletar:
									</label>
									<div id="divDelTitulo">
										<input type="text" class="form-control col-lg-4" id="txtDelTitulo"> 
									</div>
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-5">
									<button type="submit" class="btn btn-primary">
										Enviar
									</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
			
		</div>
		<div class="col-md-4">
		<br>
			
		</div>
	</div>
	</br>
	<div class="row" id="rodape">
		<div class="col-md-12">
		<hr size="10" width="80%" align="center" noshade>
			<div class="text-center">
				<address>
					<strong>Juan vinicius</strong><br> OpenCode Desenvolvimento @Copyright
				</address>
			</div>
		</div>
	</div>
</div>
  </body>
</html>